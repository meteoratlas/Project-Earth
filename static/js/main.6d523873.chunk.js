(this["webpackJsonpgeometry-game"]=this["webpackJsonpgeometry-game"]||[]).push([[0],{18:function(t,e,n){t.exports=n.p+"static/media/bg1.c945766e.png"},20:function(t,e,n){t.exports=n(37)},25:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var i=n(0),o=n.n(i),a=n(16),r=n.n(a),l=(n(25),n(2)),c=n(3),s=n(5),h=n(4),u=n(6),d=n(1),v=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(s.a)(this,Object(h.a)(e).call(this,t))).state={},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{id:"sidebar",className:this.props.hidden?"hidden":""},o.a.createElement("h3",null,"Translate"),o.a.createElement("button",{onClick:this.props.moveUp},"Up"),o.a.createElement("button",{onClick:this.props.moveDown},"Down"),o.a.createElement("button",{onClick:this.props.moveLeft},"Left"),o.a.createElement("button",{onClick:this.props.moveRight},"Right"),o.a.createElement("h3",null,"Rotate"),o.a.createElement("button",{onClick:this.props.rotL},"90 Left"),o.a.createElement("button",{onClick:this.props.rotR},"90 Right"),o.a.createElement("h3",null,"Reflect"),o.a.createElement("button",{onClick:this.props.reflectX},"Vertical"),o.a.createElement("button",{onClick:this.props.reflectY},"Horizontal"))}}]),e}(i.Component),f=n(10),m=n(19),p=function(){function t(){Object(l.a)(this,t)}return Object(c.a)(t,null,[{key:"worldToLocal",value:function(t){return t.map((function(t,e){return e%2!==0&&(t*=-1),t-=10}))}},{key:"localToWorld",value:function(t){return t.map((function(t,e){return e%2!==0&&(t*=-1),t+=10}))}},{key:"checkWin",value:function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}},{key:"checkIfInGrid",value:function(t,e){return t.every((function(t){return Math.abs(t)<=e}))}},{key:"pointInTri",value:function(t,e,n){var i=this.worldToLocal(t),o=Object(m.a)(i,6),a=o[0],r=o[1],l=o[2],c=o[3],s=o[4],h=o[5],u=Math.abs((l-a)*(h-r)-(s-a)*(c-r));return Math.abs((a-e)*(c-n)-(l-e)*(r-n))+Math.abs((l-e)*(h-n)-(s-e)*(c-n))+Math.abs((s-e)*(r-n)-(a-e)*(h-n))===u}}]),t}();p.HORIZONTAL="horizontal",p.VERTICAL="vertical";var b=function(t){function e(t,n,i,o){var a;return Object(l.a)(this,e),(a=Object(s.a)(this,Object(h.a)(e).call(this))).x=t,a.y=n,a.boardSize=i,a.cellSize=o,a.allowMove=!0,a.animateSpeed=.4,a.coords=[0,2,0,0,2,0],a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"setCoordinates",value:function(t,e){var n=this;this.allowMove&&(this.allowMove=!1,f.a.to(this.coords,{0:t[0],1:t[1],2:t[2],3:t[3],4:t[4],5:t[5],duration:this.animateSpeed,ease:"bounce.out",onComplete:function(){n.allowMove=!0,e()}}))}},{key:"draw",value:function(){var t=p.localToWorld(this.coords),e=this.cellSize;this.clear(),this.beginFill(16711680),this.lineStyle(2),this.moveTo(t[0]*e,t[1]*e),this.lineTo(t[2]*e,t[3]*e),this.lineTo(t[4]*e,t[5]*e),this.closePath(),this.endFill()}}]),e}(d.c),g=function(t){function e(t,n){var i;Object(l.a)(this,e),(i=Object(s.a)(this,Object(h.a)(e).call(this))).width=t,i.height=n,i.x=-t-80,i.y=0,i.tris=4,i.triWidth=80,i.triHeight=n/i.tris,i.time=1,i.delay=.5,i.beginFill(0),i.drawRect(0,0,t,n);for(var o=0;o<i.tris;o++)i.moveTo(t,o*i.triHeight),i.lineTo(t+i.triWidth,i.triHeight*o+i.triHeight/2),i.lineTo(t,i.triHeight*o+i.triHeight);return i.closePath(),i.endFill(),i}return Object(u.a)(e,t),Object(c.a)(e,[{key:"transitionIn",value:function(t){f.a.to(this,{x:t,duration:this.time,delay:this.delay,ease:"quint-inout",onComplete:this.transitionDone})}},{key:"transitionOut",value:function(t){f.a.to(this,{x:t,duration:this.time,delay:this.delay,ease:"quint-inout",onComplete:this.transitionDone})}},{key:"transitionDone",value:function(){}}]),e}(d.c),w=function(t){function e(t,n,i,o){var a;Object(l.a)(this,e),(a=Object(s.a)(this,Object(h.a)(e).call(this))).clear(),a.beginFill(16777215,.5),a.drawRect(t,n,i,o),a.endFill(),a.lineStyle(2,2236962,1);for(var r=0,c=0;c<=i;c+=i/20)10===r?a.lineStyle(2,15606510,1):a.lineStyle(2,2236962,1),a.moveTo(c+t,n),a.lineTo(c+t,o+n),r++;r=0;for(var u=0;u<=o;u+=o/20)10===r?a.lineStyle(2,15606510,1):a.lineStyle(2,2236962,1),a.moveTo(t,n+u),a.lineTo(i+t,u+n),r++;return a}return Object(u.a)(e,t),e}(d.c),y=function(t){function e(t,n,i){var o;Object(l.a)(this,e),o=Object(s.a)(this,Object(h.a)(e).call(this));for(var a=[],r=0;r<=20;r+=2)if(10!==r){var c=new d.f(r-10,{fontSize:13,fill:1052688,align:"center"});c.resolution=5,o.addChild(c),c.x=r*i+20+.5,c.y=n,a.push(c),(v=new d.c).beginFill(15606510),v.drawCircle(c.x-5,c.y+16,4),v.endFill(),o.addChild(v)}for(var u=0;u<=20;u+=2){var v,f=new d.f(20-u-10,{fontSize:13,fill:1052688,align:"center"});f.resolution=5,o.addChild(f),f.x=t+20,f.y=u*i-2.5,a.push(f),(v=new d.c).beginFill(15606510),v.drawCircle(f.x-5,f.y+19,4),v.endFill(),o.addChild(v)}return o.cacheAsBitmap=!0,o}return Object(u.a)(e,t),e}(d.b),O=function(t){function e(t,n){var i;return Object(l.a)(this,e),(i=Object(s.a)(this,Object(h.a)(e).call(this))).x+=16,i.y+=16,i.coords=t,i.cellSize=n,i.draw(),i}return Object(u.a)(e,t),Object(c.a)(e,[{key:"draw",value:function(){var t=p.localToWorld(this.coords),e=this.cellSize;this.clear(),this.beginFill(6710886),this.lineStyle(2),this.moveTo(t[0]*e,t[1]*e),this.lineTo(t[2]*e,t[3]*e),this.lineTo(t[4]*e,t[5]*e),this.closePath(),this.endFill()}}]),e}(d.c),C=function(){function t(){Object(l.a)(this,t)}return Object(c.a)(t,null,[{key:"translate",value:function(t,e,n){t=t.concat();for(var i=0;i<t.length;i+=2)t[i]+=e,t[i+1]+=n;return t}},{key:"rotate",value:function(t,e,n,i){e*=Math.PI/180;for(var o=Math.sin(e),a=Math.cos(e),r=t.concat(),l=[],c=0;c<t.length;c+=2)l[c]=Math.round((r[c]-n)*a+(r[c+1]-i)*o+n),l[c+1]=Math.round((r[c+1]-i)*a-(r[c]-n)*o+i);return l}},{key:"reflect",value:function(t,e,n,i){t=t.concat();for(var o=[],a=e*e,r=n*n,l=0;l<t.length;l+=2)o[l]=((r-a)*t[l]-2*e*n*t[l+1]-2*e*i)/(a+r),o[l+1]=((a-r)*t[l+1]-2*e*n*t[l]-2*n*i)/(a+r);return o}}]),t}();C.HORIZONTAL="HORIZONTAL",C.VERTICAL="VERTICAL";var j=n(18),k=n.n(j),T=function(){function t(e,n){var i=this;Object(l.a)(this,t),this.onMoveComplete=function(){for(var t in p.checkIfInGrid(i.tri.coords,10)||alert("YOU WENT OUTSIDE THE GRID"),i.entities)p.pointInTri(i.tri.coords,t.x,t.y);p.checkWin(i.tri.coords,i.goal.coords)?(i.allowMove=!1,i.levelComplete()):i.allowMove=!0},this.app=e,this.entities=[],this.tri=void 0,this.goal=void 0,this.allowMove=!0,this.transition=new g(1024,576)}return Object(c.a)(t,[{key:"start",value:function(){var t=this,e=new d.b,n=d.e.from(k.a);n.zIndex=-1,n.scale=new d.d(1.2,1.2),e.addChild(n);var i=new d.b;e.addChild(i),this.app.stage.addChild(e);var o=new w(16,16,500,500);i.addChild(o);var a=new y(250,250,25);this.tri=new b(16,16,500,25),i.addChild(a),this.goal=new O([3,5,3,3,5,3],25),i.addChild(this.goal),i.addChild(this.tri),this.app.stage.addChild(this.transition),i.x=this.app.screen.width/3,i.y=this.app.screen.height/2,i.pivot.x=i.width/2,i.pivot.y=i.height/2,console.log("Point is in the triangle:".concat(p.pointInTri(this.tri.coords,2,-2))),this.app.ticker.add((function(e){t.tri&&t.tri.draw()}))}},{key:"translate",value:function(t,e){if(this.allowMove){var n=C.translate(this.tri.coords,t,e);this.tri.setCoordinates(n,this.onMoveComplete)}}},{key:"rotate",value:function(t,e,n){if(this.allowMove){var i=C.rotate(this.tri.coords,t,e,n);this.tri.setCoordinates(i,this.onMoveComplete)}}},{key:"reflect",value:function(t,e,n){if(this.allowMove){var i=C.reflect(this.tri.coords,t,e,n);this.tri.setCoordinates(i,this.onMoveComplete)}}},{key:"levelComplete",value:function(){console.log("You win!"),this.transition.transitionIn(0)}}]),t}(),E=(n(36),function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(s.a)(this,Object(h.a)(e).call(this,t))).move=function(t,e){n.game.translate(t,e)},n.rotate=function(t,e,i){n.game.rotate(t,e,i)},n.reflect=function(t,e,i){n.game.reflect(t,e,i)},n.canvasRef=o.a.createRef(),n.canvas=n.canvasRef.current,n.app=void 0,n.game=void 0,n.state={},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.canvas=t.canvasRef.current,t.app=new d.a({width:1024,height:576,backgroundColor:1087931,view:t.canvas,resolution:window.devicePixelRatio||1}),t.game=new T(t.app),t.game.start()}),5)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{id:"app-container"},o.a.createElement("h3",null,"Transformation Game"),o.a.createElement("div",{id:"game-container"},o.a.createElement("canvas",{ref:this.canvasRef}),o.a.createElement(v,{hidden:!1,moveUp:function(){return t.move(0,1)},moveDown:function(){return t.move(0,-1)},moveLeft:function(){return t.move(-1,0)},moveRight:function(){return t.move(1,0)},rotL:function(){return t.rotate(-90,0,0)},rotR:function(){return t.rotate(90,0,0)},reflectX:function(){return t.reflect(0,1,0)},reflectY:function(){return t.reflect(1,0,0)}})))}}]),e}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.6d523873.chunk.js.map